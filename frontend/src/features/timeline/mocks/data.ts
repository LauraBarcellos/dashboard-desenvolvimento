import type { TimelineEvent } from '../types';

/**
 * Mock data for Timeline Events
 * 20 realistic items as per spec.json (mockData.count: 20)
 */
export const MOCK_TIMELINE_EVENTS: TimelineEvent[] = [
  {
    id: 't1',
    clienteId: '1',
    tipo: 'criacao',
    titulo: 'Cliente criado no sistema',
    descricao: 'Tech Solutions Ltda foi adicionado ao sistema como novo cliente.',
    usuarioId: 'admin-1',
    usuarioNome: 'João Silva',
    metadata: { origem: 'formulario_web' },
    isDeletable: false,
    createdAt: new Date('2025-01-15T10:30:00'),
    updatedAt: new Date('2025-01-15T10:30:00'),
  },
  {
    id: 't2',
    clienteId: '1',
    tipo: 'comentario',
    titulo: 'Primeira reunião realizada',
    descricao: 'Reunião inicial para alinhamento de expectativas e apresentação dos serviços. Cliente demonstrou interesse em plano enterprise.',
    usuarioId: 'admin-1',
    usuarioNome: 'João Silva',
    metadata: { duracao: '1h30min' },
    isDeletable: true,
    createdAt: new Date('2025-01-18T14:00:00'),
    updatedAt: new Date('2025-01-18T14:00:00'),
  },
  {
    id: 't3',
    clienteId: '1',
    tipo: 'documento',
    titulo: 'Contrato assinado',
    descricao: 'Contrato anual de prestação de serviços assinado digitalmente via DocuSign.',
    usuarioId: 'admin-1',
    usuarioNome: 'João Silva',
    metadata: { documento_id: 'DOC-2025-001', tipo_documento: 'contrato' },
    isDeletable: false,
    createdAt: new Date('2025-01-20T16:45:00'),
    updatedAt: new Date('2025-01-20T16:45:00'),
  },
  {
    id: 't4',
    clienteId: '1',
    tipo: 'email',
    titulo: 'E-mail de boas-vindas enviado',
    descricao: 'E-mail automático com credenciais de acesso e próximos passos.',
    usuarioId: 'system',
    usuarioNome: 'Sistema',
    metadata: { template: 'welcome_email', destinatario: 'contato@techsolutions.com.br' },
    isDeletable: false,
    createdAt: new Date('2025-01-20T16:50:00'),
    updatedAt: new Date('2025-01-20T16:50:00'),
  },
  {
    id: 't5',
    clienteId: '1',
    tipo: 'atualizacao',
    titulo: 'Informações do cliente atualizadas',
    descricao: 'Telefone e endereço de contato foram atualizados conforme solicitação do cliente.',
    usuarioId: 'admin-1',
    usuarioNome: 'João Silva',
    metadata: { campos_alterados: ['telefone', 'endereco'] },
    isDeletable: true,
    createdAt: new Date('2025-01-22T09:15:00'),
    updatedAt: new Date('2025-01-22T09:15:00'),
  },
  {
    id: 't6',
    clienteId: '2',
    tipo: 'criacao',
    titulo: 'Cliente criado no sistema',
    descricao: 'Global Corp foi adicionado ao sistema como novo cliente.',
    usuarioId: 'admin-1',
    usuarioNome: 'João Silva',
    metadata: { origem: 'importacao_csv' },
    isDeletable: false,
    createdAt: new Date('2025-01-10T08:00:00'),
    updatedAt: new Date('2025-01-10T08:00:00'),
  },
  {
    id: 't7',
    clienteId: '2',
    tipo: 'status_mudanca',
    titulo: 'Status alterado para Ativo',
    descricao: 'Cliente migrado de status "Prospect" para "Ativo" após assinatura do contrato.',
    usuarioId: 'admin-2',
    usuarioNome: 'Maria Santos',
    metadata: { status_anterior: 'prospect', status_novo: 'ativo' },
    isDeletable: false,
    createdAt: new Date('2025-01-12T11:30:00'),
    updatedAt: new Date('2025-01-12T11:30:00'),
  },
  {
    id: 't8',
    clienteId: '2',
    tipo: 'ligacao',
    titulo: 'Ligação realizada com cliente',
    descricao: 'Ligação telefônica para esclarecimento de dúvidas sobre o plano contratado. Cliente satisfeito com o atendimento.',
    usuarioId: 'admin-2',
    usuarioNome: 'Maria Santos',
    metadata: { duracao: '15min', resultado: 'positivo' },
    isDeletable: true,
    createdAt: new Date('2025-01-14T15:20:00'),
    updatedAt: new Date('2025-01-14T15:20:00'),
  },
  {
    id: 't9',
    clienteId: '3',
    tipo: 'criacao',
    titulo: 'Cliente criado no sistema',
    descricao: 'StartupXYZ foi adicionado ao sistema como novo cliente.',
    usuarioId: 'admin-1',
    usuarioNome: 'João Silva',
    metadata: { origem: 'formulario_web' },
    isDeletable: false,
    createdAt: new Date('2025-01-08T14:00:00'),
    updatedAt: new Date('2025-01-08T14:00:00'),
  },
  {
    id: 't10',
    clienteId: '3',
    tipo: 'reuniao',
    titulo: 'Reunião de kickoff realizada',
    descricao: 'Reunião presencial para apresentação da equipe e definição de escopo inicial do projeto.',
    usuarioId: 'admin-1',
    usuarioNome: 'João Silva',
    metadata: { local: 'escritorio_cliente', participantes: 5 },
    isDeletable: true,
    createdAt: new Date('2025-01-09T10:00:00'),
    updatedAt: new Date('2025-01-09T10:00:00'),
  },
  {
    id: 't11',
    clienteId: '4',
    tipo: 'criacao',
    titulo: 'Cliente criado no sistema',
    descricao: 'MegaCorp Industries foi adicionado ao sistema como novo cliente.',
    usuarioId: 'admin-2',
    usuarioNome: 'Maria Santos',
    metadata: { origem: 'indicacao' },
    isDeletable: false,
    createdAt: new Date('2024-12-20T09:00:00'),
    updatedAt: new Date('2024-12-20T09:00:00'),
  },
  {
    id: 't12',
    clienteId: '4',
    tipo: 'email',
    titulo: 'E-mail de follow-up enviado',
    descricao: 'E-mail com informações sobre novos recursos disponíveis na plataforma.',
    usuarioId: 'admin-2',
    usuarioNome: 'Maria Santos',
    metadata: { template: 'feature_update', destinatario: 'contato@megacorp.com' },
    isDeletable: true,
    createdAt: new Date('2024-12-22T14:30:00'),
    updatedAt: new Date('2024-12-22T14:30:00'),
  },
  {
    id: 't13',
    clienteId: '5',
    tipo: 'criacao',
    titulo: 'Cliente criado no sistema',
    descricao: 'InnovaTech foi adicionado ao sistema como novo cliente.',
    usuarioId: 'admin-1',
    usuarioNome: 'João Silva',
    metadata: { origem: 'formulario_web' },
    isDeletable: false,
    createdAt: new Date('2024-11-15T11:00:00'),
    updatedAt: new Date('2024-11-15T11:00:00'),
  },
  {
    id: 't14',
    clienteId: '5',
    tipo: 'atualizacao',
    titulo: 'Plano do cliente atualizado',
    descricao: 'Cliente migrado do plano básico para o plano premium conforme solicitação.',
    usuarioId: 'admin-1',
    usuarioNome: 'João Silva',
    metadata: { plano_anterior: 'basico', plano_novo: 'premium' },
    isDeletable: false,
    createdAt: new Date('2024-11-20T16:00:00'),
    updatedAt: new Date('2024-11-20T16:00:00'),
  },
  {
    id: 't15',
    clienteId: '6',
    tipo: 'criacao',
    titulo: 'Cliente criado no sistema',
    descricao: 'CloudSolutions foi adicionado ao sistema como novo cliente.',
    usuarioId: 'admin-2',
    usuarioNome: 'Maria Santos',
    metadata: { origem: 'importacao_csv' },
    isDeletable: false,
    createdAt: new Date('2024-10-10T08:30:00'),
    updatedAt: new Date('2024-10-10T08:30:00'),
  },
  {
    id: 't16',
    clienteId: '7',
    tipo: 'criacao',
    titulo: 'Cliente criado no sistema',
    descricao: 'DataFlow Systems foi adicionado ao sistema como novo cliente.',
    usuarioId: 'admin-1',
    usuarioNome: 'João Silva',
    metadata: { origem: 'formulario_web' },
    isDeletable: false,
    createdAt: new Date('2024-09-20T10:15:00'),
    updatedAt: new Date('2024-09-20T10:15:00'),
  },
  {
    id: 't17',
    clienteId: '8',
    tipo: 'criacao',
    titulo: 'Cliente criado no sistema',
    descricao: 'SecureNet foi adicionado ao sistema como novo cliente.',
    usuarioId: 'admin-2',
    usuarioNome: 'Maria Santos',
    metadata: { origem: 'indicacao' },
    isDeletable: false,
    createdAt: new Date('2024-08-15T13:45:00'),
    updatedAt: new Date('2024-08-15T13:45:00'),
  },
  {
    id: 't18',
    clienteId: '9',
    tipo: 'criacao',
    titulo: 'Cliente criado no sistema',
    descricao: 'TechFlow foi adicionado ao sistema como novo cliente.',
    usuarioId: 'admin-1',
    usuarioNome: 'João Silva',
    metadata: { origem: 'formulario_web' },
    isDeletable: false,
    createdAt: new Date('2024-07-10T09:30:00'),
    updatedAt: new Date('2024-07-10T09:30:00'),
  },
  {
    id: 't19',
    clienteId: '10',
    tipo: 'criacao',
    titulo: 'Cliente criado no sistema',
    descricao: 'DigitalWorks foi adicionado ao sistema como novo cliente.',
    usuarioId: 'admin-2',
    usuarioNome: 'Maria Santos',
    metadata: { categoria: 'vip', plano: 'enterprise' },
    isDeletable: false,
    createdAt: new Date('2024-09-15T08:45:00'),
    updatedAt: new Date('2024-09-15T08:45:00'),
  },
  {
    id: 't20',
    clienteId: '12',
    tipo: 'email',
    titulo: 'Renovação automática processada',
    descricao: 'Contrato enterprise renovado automaticamente por mais 12 meses.',
    usuarioId: 'system',
    usuarioNome: 'Sistema',
    metadata: { tipo_renovacao: 'automatica', proximo_vencimento: '2026-12-15' },
    isDeletable: false,
    createdAt: new Date('2025-12-12T10:20:00'),
    updatedAt: new Date('2025-12-12T10:20:00'),
  },
];

/**
 * Get timeline events for a specific cliente
 */
export function getTimelineEventsByClienteId(clienteId: string): TimelineEvent[] {
  return MOCK_TIMELINE_EVENTS.filter((event) => event.clienteId === clienteId);
}

/**
 * Add a new timeline event (mock)
 */
export function addTimelineEventMock(
  clienteId: string,
  tipo: TimelineEvent['tipo'],
  titulo: string,
  descricao?: string
): TimelineEvent {
  const newEvent: TimelineEvent = {
    id: `t${Date.now()}`,
    clienteId,
    tipo,
    titulo,
    descricao,
    usuarioId: 'admin-1', // Mock user
    usuarioNome: 'João Silva', // Mock user name
    metadata: {},
    isDeletable: true,
    createdAt: new Date(),
    updatedAt: new Date(),
  };

  MOCK_TIMELINE_EVENTS.unshift(newEvent); // Add to beginning (newest first)
  return newEvent;
}
